(this.webpackJsonpmiam=this.webpackJsonpmiam||[]).push([[0],{10:function(e,t,a){e.exports={Order:"results_Order__3FLlS",Stats:"results_Stats__3frwC",Message:"results_Message__2IVE2",Green:"results_Green__1CSjk",Red:"results_Red__1vMKp"}},11:function(e,t,a){e.exports={Item:"day_Item__1bHlZ",Flex:"day_Flex__3bQbi",Day:"day_Day__btfRd",Meal:"day_Meal__3hgs0"}},20:function(e,t,a){e.exports={Modal:"modal_Modal__26hmV",Main:"modal_Main__2DhFM",modal:"modal_modal__1jM0s",MainAnimated:"modal_MainAnimated__1W3_k",move:"modal_move__1DvpI",Calculate:"modal_Calculate__21pAw",CalculateAnimated:"modal_CalculateAnimated__26oVS",Result:"modal_Result__1xLCi",Hide:"modal_Hide__tTc54",Error:"modal_Error__2E7I_",Order:"modal_Order__31c4P"}},21:function(e,t,a){e.exports={First:"welcomePage_First__33Mgj",first:"welcomePage_first__2tJGW",Second:"welcomePage_Second__2oo-0",second:"welcomePage_second__3sNw4"}},25:function(e,t,a){e.exports={Logo:"header_Logo__3UMrl",Header:"header_Header__3XdCa"}},39:function(e,t,a){e.exports={MediumButton:"button_MediumButton__38MZJ",Danger:"button_Danger__mXGBf",LargeButton:"button_LargeButton__2ZRQK"}},41:function(e,t,a){e.exports={Main:"layout_Main__2U5l3"}},71:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a(1),c=a(37),r=a.n(c),i=a(12),l=a(2),d=a(20),o=a.n(d),u=function(e){return Object(n.jsx)("div",{className:[o.a.Modal,e.show?o.a[e.modalType]:o.a.Hide].join(" "),children:e.children})},h=a(10),j=a.n(h),m=function(e){var t="",a="";return e.veg>e.sushi&&e.veg>e.pizza?(t="Hmm beaucoup de l\xe9gumes, tu peux manger des SCHOKO-BONS !!!",a=j.a.Green):(t="Pas assez de l\xe9gumes dans tes repas. Pas de SCHOKO-BONS pour toi !!!",a=j.a.Red),Object(n.jsxs)("div",{children:[Object(n.jsxs)(u,{show:e.show,modalType:"Result",children:[Object(n.jsxs)("h2",{children:["Dans ",e.day," jours tu vas manger"]}),Object(n.jsxs)("p",{className:j.a.Order,children:[e.lunch," \xe0 midi et ",e.dinner," le soir"]})]}),Object(n.jsxs)(u,{show:e.show,modalType:"Result",children:[Object(n.jsx)("h3",{children:"Voici tes repas pour les prochains 52 jours et demi"}),Object(n.jsxs)("div",{className:j.a.Stats,children:[Object(n.jsxs)("p",{children:[" Pizza : ",e.pizza]}),Object(n.jsxs)("p",{children:[" Sushi : ",e.sushi]}),Object(n.jsxs)("p",{children:[" Veg : ",e.veg]})]}),Object(n.jsx)("p",{className:[j.a.Message,a].join(" "),children:t})]})]})},b=a(38),p=a(43),_=a(22),O=a(16),x=a(17),y=a(19),f=a(18),M=a(8),v=a.n(M),g=a(11),N=a.n(g),C=function(e){return Object(n.jsxs)("div",{className:N.a.Item,children:[Object(n.jsx)("h2",{className:N.a.Day,children:e.day}),Object(n.jsxs)("div",{className:N.a.Flex,children:[Object(n.jsxs)("div",{className:N.a.Meal,children:["MIDI :",Object(n.jsxs)("p",{children:[Object(n.jsx)("span",{onClick:function(){return e.clicked(["\ud83c\udf55","lunch"])},children:"\ud83c\udf55"}),Object(n.jsx)("span",{onClick:function(){return e.clicked(["\ud83c\udf63","lunch"])},children:"\ud83c\udf63"}),Object(n.jsx)("span",{onClick:function(){return e.clicked(["\ud83e\udd66","lunch"])},children:"\ud83e\udd66"})]})]}),Object(n.jsxs)("div",{className:N.a.Meal,children:["SOIR :",Object(n.jsxs)("p",{children:[Object(n.jsx)("span",{onClick:function(){return e.clicked(["\ud83c\udf55","dinner"])},children:"\ud83c\udf55"}),Object(n.jsx)("span",{onClick:function(){return e.clicked(["\ud83c\udf63","dinner"])},children:"\ud83c\udf63"}),Object(n.jsx)("span",{onClick:function(){return e.clicked(["\ud83e\udd66","dinner"])},children:"\ud83e\udd66"})]})]})]})]})},k=a(39),D=a.n(k),w=function(e){return Object(n.jsx)("button",{className:[D.a[e.btnType]].join(" "),onClick:e.clicked,disabled:e.disabled,children:e.children})},S=a(40),E=a.n(S).a.create({baseURL:"http://localhost:5000/"}),T=function(e){Object(y.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(O.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={week:[{n:0,day:"LUNDI",lunch:"",dinner:""},{n:1,day:"MARDI",lunch:"",dinner:""},{n:2,day:"MERCREDI",lunch:"",dinner:""},{n:3,day:"JEUDI",lunch:"",dinner:""},{n:4,day:"VENDREDI",lunch:"",dinner:""},{n:5,day:"SAMEDI",lunch:"",dinner:""},{n:6,day:"DIMANCHE",lunch:"",dinner:""}],dayNumber:{day:0},resultModal:!1,totalOrder:"",selectedDay:0,dayTocalculate:0,result:{lunch:"",dinner:"",pizza:0,sushi:0,veg:0}},e.digitToEmoji=function(e){for(var t=[],a=0;a<e.length;a++)1===e[a]?t.push("\ud83c\udf55"):0===e[a]?t.push("\ud83c\udf63"):-1===e[a]&&t.push("\ud83e\udd66");return t},e.nextDayHandler=function(){var t=Object(_.a)({},e.state.dayNumber);t.day++,e.setState({dayNumber:t})},e.prevDayHandler=function(){var t=Object(_.a)({},e.state.dayNumber);t.day--,e.setState({dayNumber:t})},e.mealChoiceHandler=function(t){var a=t[1],n=t[0],s=Object(p.a)(e.state.week);s.map((function(t){t.n===e.state.dayNumber.day&&(t[a]=n)})),e.setState({week:s}),e.updateTotalOrder()},e.updateTotalOrder=function(){var t="";e.state.week.map((function(e){t=t.concat(e.lunch,e.dinner)})),e.setState({totalOrder:t})},e.handleDayChange=function(t){var a=t.target.value;e.setState({selectedDay:a})},e.calculateHandler=function(){var t,a=e.state.totalOrder,n=[],s=e.state.selectedDay,c=Object(_.a)({},e.state.result),r=Object(b.a)(a);try{for(r.s();!(t=r.n()).done;){var i=t.value;"\ud83c\udf55"===i&&(i=1,n.push(i)),"\ud83c\udf63"===i&&(i=0,n.push(i)),"\ud83e\udd66"===i&&(i=-1,n.push(i))}}catch(d){r.e(d)}finally{r.f()}var l={order:n,day:e.state.selectedDay};E.post("https://cda-miam.herokuapp.com:5000/calc",l).then((function(t){console.log(t),c.lunch=e.digitToEmoji(t.data)[0],c.dinner=e.digitToEmoji(t.data)[1],c.pizza=t.data[2],c.sushi=t.data[3],c.veg=t.data[4],e.setState({result:c})})).catch((function(e){return console.log(e)})),e.setState({dayTocalculate:s}),e.setState({resultModal:!0})},e}return Object(x.a)(a,[{key:"componentDidMount",value:function(){var e=this;E.interceptors.request.use((function(e){return e})),E.interceptors.response.use((function(e){return e}),(function(t){console.log(t),e.props.history.push("/error")}))}},{key:"render",value:function(){var e=this,t=!1,a=!1,s=!1;this.state.week.map((function(t){if(t.n===e.state.dayNumber.day&&(""===t.lunch||""===t.dinner||e.state.dayNumber.day>=6))return a=!0}));var c=this.state.week.map((function(a){return a.n===e.state.dayNumber.day?a.day:0===e.state.dayNumber.day?t=!0:void 0}));return 28===this.state.totalOrder.length&&(s=!0),Object(n.jsxs)("div",{className:v.a.FlexCol,children:[Object(n.jsxs)(u,{show:!0,className:v.a.Flex,modalType:this.state.resultModal?"MainAnimated":"Main",children:[Object(n.jsx)(C,{day:c,clicked:function(t){return e.mealChoiceHandler(t)}}),Object(n.jsxs)("div",{className:v.a.Flex,children:[Object(n.jsx)(w,{btnType:"MediumButton",clicked:this.prevDayHandler,disabled:t,children:"Pr\xe9c\xe9dent"}),Object(n.jsx)(w,{btnType:"MediumButton",clicked:this.nextDayHandler,disabled:a,children:"Suivant"})]}),Object(n.jsxs)("div",{className:v.a.Message,children:[Object(n.jsx)("p",{children:"Voici ta commande :"}),Object(n.jsx)("p",{className:v.a.Order,children:this.state.totalOrder})]})]}),Object(n.jsxs)(u,{show:s,className:v.a.Flex,modalType:this.state.resultModal?"CalculateAnimated":"Calculate",children:[Object(n.jsxs)("form",{className:v.a.Form,children:[Object(n.jsx)("label",{htmlFor:"dayNum",children:" Choisis un jour : "}),Object(n.jsx)("input",{type:"number",id:"dayNum",name:"dayNum",min:"1",max:"53",onChange:function(t){return e.handleDayChange(t)}})]}),Object(n.jsx)("br",{}),Object(n.jsx)(w,{btnType:"MediumButton",clicked:this.calculateHandler,disabled:!(this.state.selectedDay>0&&this.state.selectedDay<54),children:"Abracadabra"})]}),Object(n.jsx)(m,{show:this.state.resultModal,day:this.state.dayTocalculate,lunch:this.state.result.lunch,dinner:this.state.result.dinner,pizza:this.state.result.pizza,sushi:this.state.result.sushi,veg:this.state.result.veg})]})}}]),a}(s.Component),I=a(21),A=a.n(I),F=a(41),H=a.n(F),R=function(e){return Object(n.jsx)("main",{className:H.a.Main,children:e.children})},z=function(e){Object(y.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(O.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={name:""},e.handleMiam=function(){e.props.history.push("/menu")},e}return Object(x.a)(a,[{key:"render",value:function(){return Object(n.jsx)(R,{children:Object(n.jsxs)("div",{className:A.a.Conatiner,children:[Object(n.jsx)("p",{className:A.a.First,children:"TRIANGLE DU MIAM "}),Object(n.jsx)("p",{className:A.a.Second,children:'" BECAUSE WE CARE !!! " '}),Object(n.jsx)(w,{btnType:"LargeButton",clicked:this.handleMiam,disabled:!1,children:"MIAM"})]})})}}]),a}(s.Component),B=a(25),L=a.n(B),P=a.p+"static/media/logo.f8a4f20b.png",G=function(e){return Object(n.jsx)("div",{className:L.a.Header,children:Object(n.jsx)(i.b,{to:"/",children:Object(n.jsx)("img",{className:L.a.Logo,src:P,alt:"MIT miam logo"})})})},U=function(e){return Object(n.jsxs)(u,{show:!0,modalType:"Error",children:[Object(n.jsx)("h1",{children:"Error has happened !!!"}),Object(n.jsx)("p",{children:"Please KEEP CALM and TRY AGAIN"}),Object(n.jsx)(w,{btnType:"MediumButton",clicked:function(){return e.history.push("/menu")},disabled:!1,children:"R\xe9essayer"})]})};var V=function(){return Object(n.jsxs)(R,{children:[Object(n.jsx)(G,{}),Object(n.jsxs)(l.c,{children:[Object(n.jsx)(l.a,{path:"/",exact:!0,component:z}),Object(n.jsx)(l.a,{path:"/menu",component:T}),Object(n.jsx)(l.a,{path:"/error",component:U})]})]})},J=Object(n.jsx)(i.a,{children:Object(n.jsx)(V,{})});r.a.render(J,document.getElementById("root"))},8:function(e,t,a){e.exports={Flex:"MenuCreation_Flex__wwEGj",Order:"MenuCreation_Order__3w4BN",Message:"MenuCreation_Message__6sPkv",Form:"MenuCreation_Form__2kF5h",FlexCol:"MenuCreation_FlexCol__nlNY6"}}},[[71,1,2]]]);
//# sourceMappingURL=main.48105db4.chunk.js.map