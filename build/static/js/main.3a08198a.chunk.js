(this.webpackJsonpmiam=this.webpackJsonpmiam||[]).push([[0],{10:function(e,t,n){e.exports={Flex:"MenuCreation_Flex__3VToH",Order:"MenuCreation_Order__29MMD",Message:"MenuCreation_Message__3sk8J",Form:"MenuCreation_Form__3dUWz",FlexCol:"MenuCreation_FlexCol__1R63T"}},13:function(e,t,n){e.exports={Order:"results_Order__1_g7L",Stats:"results_Stats__2TpbE",Message:"results_Message__1SoNT",Green:"results_Green__1HqpS",Red:"results_Red__2gIf3"}},14:function(e,t,n){e.exports={Item:"day_Item__2vElP",Flex:"day_Flex__XpI6U",Day:"day_Day__2KXHW",Meal:"day_Meal__23Fp1"}},25:function(e,t,n){e.exports={Modal:"modal_Modal__2FWHP",Main:"modal_Main__25gS8",modal:"modal_modal__3Pv5r",MainAnimated:"modal_MainAnimated__3JFGh",move:"modal_move__wEBAa",Calculate:"modal_Calculate__1I1rG",CalculateAnimated:"modal_CalculateAnimated__6ajpm",Result:"modal_Result__1QWWZ",Hide:"modal_Hide__1p16Y",Error:"modal_Error__XCJDc",Order:"modal_Order__1dFkr"}},26:function(e,t,n){e.exports={First:"welcomePage_First__1IU1c",first:"welcomePage_first__2m6ef",Second:"welcomePage_Second__nMYbp",second:"welcomePage_second__3FPdQ"}},30:function(e,t,n){e.exports={Logo:"header_Logo__2Th8O",Header:"header_Header__2LjS-"}},47:function(e,t,n){e.exports={MediumButton:"button_MediumButton__3_XjT",Danger:"button_Danger__2Q6ds",LargeButton:"button_LargeButton__2Rz_W"}},50:function(e,t,n){e.exports={Main:"layout_Main__1JGmw"}},64:function(e,t,n){},88:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(0),c=n(18),s=n.n(c),i=n(15),o=n(22),d=n(12),l=(n(64),n(46)),u=n(3),p=n(25),j=n.n(p),h=function(e){return Object(r.jsx)("div",{className:[j.a.Modal,e.show?j.a[e.modalType]:j.a.Hide].join(" "),children:e.children})},m=n(13),b=n.n(m),O=function(e){var t="",n="";return e.veg>e.sushi&&e.veg>e.pizza?(t="Hmm beaucoup de l\xe9gumes, tu peux manger des SCHOKO-BONS !!!",n=b.a.Green):(t="Pas assez de l\xe9gumes dans tes repas. Pas de SCHOKO-BONS pour toi !!!",n=b.a.Red),Object(r.jsxs)("div",{children:[Object(r.jsxs)(h,{show:e.show,modalType:"Result",children:[Object(r.jsxs)("h2",{children:["Dans ",e.day," jours tu vas manger"]}),Object(r.jsxs)("p",{className:b.a.Order,children:[e.lunch," \xe0 midi et ",e.dinner," le soir"]})]}),Object(r.jsxs)(h,{show:e.show,modalType:"Result",children:[Object(r.jsx)("h3",{children:"Voici tes repas pour les prochains 52 jours et demi"}),Object(r.jsxs)("div",{className:b.a.Stats,children:[Object(r.jsxs)("p",{children:[" Pizza : ",e.pizza]}),Object(r.jsxs)("p",{children:[" Sushi : ",e.sushi]}),Object(r.jsxs)("p",{children:[" Veg : ",e.veg]})]}),Object(r.jsx)("p",{className:[b.a.Message,n].join(" "),children:t})]})]})},_=n(19),y=n(20),x=n(24),f=n(23),M=n(10),v=n.n(M),N=n(14),g=n.n(N),C=function(e){return Object(r.jsxs)("div",{className:g.a.Item,children:[Object(r.jsx)("h2",{className:g.a.Day,children:e.day}),Object(r.jsxs)("div",{className:g.a.Flex,children:[Object(r.jsxs)("div",{className:g.a.Meal,children:["MIDI :",Object(r.jsxs)("p",{children:[Object(r.jsx)("span",{onClick:function(){return e.clicked(["\ud83c\udf55","lunch"])},children:"\ud83c\udf55"}),Object(r.jsx)("span",{onClick:function(){return e.clicked(["\ud83c\udf63","lunch"])},children:"\ud83c\udf63"}),Object(r.jsx)("span",{onClick:function(){return e.clicked(["\ud83e\udd66","lunch"])},children:"\ud83e\udd66"})]})]}),Object(r.jsxs)("div",{className:g.a.Meal,children:["SOIR :",Object(r.jsxs)("p",{children:[Object(r.jsx)("span",{onClick:function(){return e.clicked(["\ud83c\udf55","dinner"])},children:"\ud83c\udf55"}),Object(r.jsx)("span",{onClick:function(){return e.clicked(["\ud83c\udf63","dinner"])},children:"\ud83c\udf63"}),Object(r.jsx)("span",{onClick:function(){return e.clicked(["\ud83e\udd66","dinner"])},children:"\ud83e\udd66"})]})]})]})]})},k=n(47),D=n.n(k),E=function(e){return Object(r.jsx)("button",{className:[D.a[e.btnType]].join(" "),onClick:e.clicked,disabled:e.disabled,children:e.children})},w=n(48),A=n.n(w).a.create({baseURL:"https://cda-miam.herokuapp.com/"}),T="NEXT_DAY",R="PREVIOUS_DAY",I="MEAL_CHOICE",F="DAY_CHOICE",S="PREPARE_ORDER",P="SET_RESULT",H=n(49),z=function(e){return 1===e?e="\ud83c\udf55":0===e?e="\ud83c\udf63":-1===e&&(e="\ud83e\udd66"),e},L=function(e){return function(t){A.post("/calc",e).then((function(e){var n={};n.lunch=z(e.data[0]),n.dinner=z(e.data[1]),n.pizza=e.data[2],n.sushi=e.data[3],n.veg=e.data[4],t(function(e){return{type:P,resultFromApi:e,showModal:!0}}(n)),console.log(n.lunch)})).catch((function(e){return t(Object(H.push)("/error"))}))}},B=function(e){Object(x.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(_.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={},e.calculateHandler=function(){e.props.prepareOrder(),setTimeout((function(){return e.props.getResult(e.props.food)}),1e3)},e}return Object(y.a)(n,[{key:"componentDidMount",value:function(){var e=this;A.interceptors.request.use((function(e){return e})),A.interceptors.response.use((function(e){return e}),(function(t){console.log(t),e.props.history.push("/error")}))}},{key:"render",value:function(){var e=this,t=!1,n=!1,a=!1;this.props.week.map((function(t){if(t.n===e.props.dayNum&&(""===t.lunch||""===t.dinner||e.props.dayNum>=6))return n=!0}));var c=this.props.week.map((function(n){return n.n===e.props.dayNum?n.day:0===e.props.dayNum?t=!0:void 0}));return 28===this.props.totalOrder.length&&(a=!0),Object(r.jsxs)("div",{className:v.a.FlexCol,children:[Object(r.jsxs)(h,{show:!0,className:v.a.Flex,modalType:this.props.resultModal?"MainAnimated":"Main",children:[Object(r.jsx)(C,{day:c,clicked:function(t){return e.props.mealChoice(t)}}),Object(r.jsxs)("div",{className:v.a.Flex,children:[Object(r.jsx)(E,{btnType:"MediumButton",clicked:this.props.onPrevDay,disabled:t,children:"Pr\xe9c\xe9dent"}),Object(r.jsx)(E,{btnType:"MediumButton",clicked:this.props.onNextDay,disabled:n,children:"Suivant"})]}),Object(r.jsxs)("div",{className:v.a.Message,children:[Object(r.jsx)("p",{children:"Voici ta commande :"}),Object(r.jsx)("p",{className:v.a.Order,children:this.props.totalOrder})]})]}),Object(r.jsxs)(h,{show:a,className:v.a.Flex,modalType:this.props.resultModal?"CalculateAnimated":"Calculate",children:[Object(r.jsxs)("form",{className:v.a.Form,children:[Object(r.jsx)("label",{htmlFor:"dayNum",children:" Choisis un jour : "}),Object(r.jsx)("input",{type:"number",id:"dayNum",name:"dayNum",min:"1",max:"53",onChange:function(t){return e.props.dayChoice(t)}})]}),Object(r.jsx)("br",{}),Object(r.jsx)(E,{btnType:"MediumButton",clicked:this.calculateHandler,disabled:!(this.props.selectedDay>0&&this.props.selectedDay<54),children:"Abracadabra"})]}),Object(r.jsx)(O,{show:this.props.resultModal,day:this.props.selectedDay,lunch:this.props.result.lunch,dinner:this.props.result.dinner,pizza:this.props.result.pizza,sushi:this.props.result.sushi,veg:this.props.result.veg})]})}}]),n}(a.Component),U=Object(o.b)((function(e){return{dayNum:e.dayNumber.day,totalOrder:e.totalOrder,week:e.week,selectedDay:e.selectedDay,food:e.orderToApi,result:e.result,resultModal:e.resultModal}}),(function(e){return{onNextDay:function(){return e({type:T})},onPrevDay:function(){return e({type:R})},mealChoice:function(t){return e(function(e){return{meal:e,type:I}}(t))},dayChoice:function(t){return e(function(e){return{event:e,type:F}}(t))},getResult:function(t){return e(L(t))},prepareOrder:function(){return e({type:S})}}}))(B),G=n(26),J=n.n(G),V=n(50),W=n.n(V),X=function(e){return Object(r.jsx)("main",{className:W.a.Main,children:e.children})},Y=function(e){Object(x.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(_.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).handleMiam=function(){e.props.history.push("/menu")},e}return Object(y.a)(n,[{key:"render",value:function(){return Object(r.jsx)(X,{children:Object(r.jsxs)("div",{className:J.a.Conatiner,children:[Object(r.jsx)("p",{className:J.a.First,children:"TRIANGLE DU MIAM "}),Object(r.jsx)("p",{className:J.a.Second,children:'" BECAUSE WE CARE !!! " '}),Object(r.jsx)(E,{btnType:"LargeButton",clicked:this.handleMiam,disabled:!1,children:"MIAM"})]})})}}]),n}(a.Component),K=n(30),Q=n.n(K),q=n.p+"static/media/logo.f8a4f20b.png",Z=function(e){return Object(r.jsx)("div",{className:Q.a.Header,children:Object(r.jsx)(i.b,{to:"/",children:Object(r.jsx)("img",{className:Q.a.Logo,src:q,alt:"MIT miam logo"})})})},$=function(e){return Object(r.jsxs)(h,{show:!0,modalType:"Error",children:[Object(r.jsx)("h1",{children:"Error has happened !!!"}),Object(r.jsx)("p",{children:"Please KEEP CALM and TRY AGAIN"}),Object(r.jsx)(E,{btnType:"MediumButton",clicked:function(){return e.history.push("/menu")},disabled:!1,children:"R\xe9essayer"})]})};var ee=function(){return Object(r.jsxs)(X,{children:[Object(r.jsx)(Z,{}),Object(r.jsxs)(u.c,{children:[Object(r.jsx)(u.a,{path:"/",exact:!0,component:Y}),Object(r.jsx)(u.a,{path:"/menu",component:U}),Object(r.jsx)(u.a,{path:"/error",component:$})]})]})},te=n(51),ne=n(52),re=n(4),ae={week:[{n:0,day:"LUNDI",lunch:"",dinner:""},{n:1,day:"MARDI",lunch:"",dinner:""},{n:2,day:"MERCREDI",lunch:"",dinner:""},{n:3,day:"JEUDI",lunch:"",dinner:""},{n:4,day:"VENDREDI",lunch:"",dinner:""},{n:5,day:"SAMEDI",lunch:"",dinner:""},{n:6,day:"DIMANCHE",lunch:"",dinner:""}],dayNumber:{day:0},selectedDay:0,totalOrder:"",result:{lunch:"",dinner:"",pizza:0,sushi:0,veg:0},orderToApi:{order:[],day:""},resultModal:!1},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return Object(re.a)(Object(re.a)({},e),{},{dayNumber:Object(re.a)(Object(re.a)({},e.dayNumber),{},{day:e.dayNumber.day+1})});case R:return Object(re.a)(Object(re.a)({},e),{},{dayNumber:Object(re.a)(Object(re.a)({},e.dayNumber),{},{day:e.dayNumber.day-1})});case I:var n="";return Object(re.a)(Object(re.a)(Object(re.a)(Object(re.a)({},e),{},{week:[].concat(Object(ne.a)(e.week),[e.week.map((function(n){n.n===e.dayNumber.day&&(n[t.meal[1]]=t.meal[0])}))])},e),e.week.map((function(e){n=n.concat(e.lunch,e.dinner)}))),{},{totalOrder:n});case F:return Object(re.a)(Object(re.a)({},e),{},{selectedDay:[t.event.target.value]});case S:var r,a=[],c=Object(te.a)(e.totalOrder);try{for(c.s();!(r=c.n()).done;){var s=r.value;"\ud83c\udf55"===s&&(s=1,a.push(s)),"\ud83c\udf63"===s&&(s=0,a.push(s)),"\ud83e\udd66"===s&&(s=-1,a.push(s))}}catch(i){c.e(i)}finally{c.f()}return Object(re.a)(Object(re.a)({},e),{},{orderToApi:Object(re.a)(Object(re.a)({},e.orderToApi),{},{order:a,day:e.selectedDay})});case P:return console.log([t.resultFromApi]),Object(re.a)(Object(re.a)({},e),{},{result:t.resultFromApi,resultModal:t.showModal});default:return e}},se=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||d.c,ie=Object(d.d)(ce,se(Object(d.a)(l.a))),oe=Object(r.jsx)(o.a,{store:ie,children:Object(r.jsx)(i.a,{children:Object(r.jsx)(ee,{})})});s.a.render(oe,document.getElementById("root"))}},[[88,1,2]]]);
//# sourceMappingURL=main.3a08198a.chunk.js.map